var buttonShowModal=document.querySelector(".button-show-modal"),modalSearch=document.querySelector(".modal-search"),modalSearchForm=modalSearch.querySelector(".modal-search-form"),arrivalDateInput=modalSearch.querySelector("#arrival-date"),departureDateInput=modalSearch.querySelector("#date-of-departure"),adultsCountInput=modalSearch.querySelector("#adults-count"),childrenCountInput=modalSearch.querySelector("#children-count"),isStorageSupport=!0,storageAdultsCount="",storageChildrenCount="",focusInput=function(){arrivalDateInput.focus()};modalSearch.classList.add("modal-search-hide");try{storageAdultsCount=localStorage.getItem("adultsCount"),storageChildrenCount=localStorage.getItem("childrenCount")}catch(e){isStorageSupport=!1}storageAdultsCount&&(adultsCountInput.value=storageAdultsCount),storageChildrenCount&&(childrenCountInput.value=storageChildrenCount),buttonShowModal.addEventListener("click",function(e){e.preventDefault(),modalSearch.classList.toggle("modal-search-hide"),modalSearch.classList.contains("modal-search-hide")?modalSearch.classList.remove("modal-search-error"):setTimeout(focusInput,300)}),modalSearchForm.addEventListener("submit",function(e){arrivalDateInput.value&&departureDateInput.value&&adultsCountInput.value&&childrenCountInput.value?isStorageSupport&&(modalSearch.classList.remove("modal-search-error"),localStorage.setItem("adultsCount",adultsCountInput.value),localStorage.setItem("childrenCount",childrenCountInput.value)):(e.preventDefault(),modalSearch.classList.remove("modal-search-error"),modalSearch.offsetWidth=modalSearch.offsetWidth,modalSearch.classList.add("modal-search-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalSearch.classList.contains("modal-search-hide")||(modalSearch.classList.add("modal-search-hide"),modalSearch.classList.remove("modal-search-error")))});